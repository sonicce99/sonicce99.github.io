---
title: "2022년 회고 (feat. 프론트엔드 개발자로서의 첫 시작)"
date: "2022-07-24"
description: "회사에서 입사하고 나서의 9개월 간의 내용 정리입니다."
---

# 개발자로서의 온전한 시작.

## 들어가기에 앞서

![스크린샷 2022-07-25 오전 11 57 47](https://user-images.githubusercontent.com/87749134/180687706-71cda116-aa6a-410c-afb4-7e8441f530a9.png)

기대 반 걱정 반으로 회사에 입사한지 거진 4개월이 지났다. 이제 4개월 밖에 안되었지만 정말 많은 프로젝트에 참여했다. 회사에서 사용하는 개발 환경에 대해 새로 공부해야할 내용들도 많았고 (Next.js, Redux-toolkit, RTK-Query, sheet.js, class-validator ... 등등) 이것들을 공부하면서 동시에 회사에서 요구하는 사항들을 훌륭하게 수행해야만 했다.
정말 짧은 기간이지만 분명히 더욱 성장할 수 있었던 상반기였다.

## 회사 프로젝트

### 1. 홈페이지 개편

![스크린샷 2022-07-25 오전 10 14 01](https://user-images.githubusercontent.com/87749134/180675203-4a8aa382-a758-4e2a-879c-8baac094b716.png)

회사에 입사하고 가장 처음에 했었던 프로젝트였다. 외주를 주고 웹 퍼블리셔 분들에게 작업을 맡겼다고 했었는데 일부 기능들이 정상적으로 동작하지 않는걸 나중에 발견했다.
(ex 특정 항목 여러번 빠르게 클릭시 일부 컴퓨터에서 동작이 원할하지 않았음.) 그래서 그 분들이 만들어 놓은걸 가지고 다시 작업하게 되었었는데 이떄의 문제점들은 다음과 같다.

- 순수 html, css , JQuery로 작성이 되어있었다.

  > 개발 퍼포먼스, UI 모둘화가 너무 좋지 않았다. 반복되는 내용이 (header, footer menuBar 등등 ...) 전부 복.붙 하여 코드가 작성되어 있었고, JQuery에 대해서는 제대로 알지 못했었기 떄문에 오류의 원인을 파악하기가 어려웠다.

- html 파일명이 어느 페이지를 지칭하는지 전혀 알 수 없었다.

  > 파일명이 sub1.html, sub2_2_2.html ... 등등 파일명 뿐만 아니라 변수명 조차 a 로 적어두는 등 퍼블리셔 분이 무엇을 의도하면서 작성한건지 전혀 알 수 없었다.

차라리 처음부터 만들었다면 훨씬 더 구조적으로 명확한 구조를 가지게 만들었을 수 있을거 같았지만 어찌됬던지 주어진 코드에서 빠르게 수정을 해야했기에 다음과 같이 문제를 해결하기로 했다.

1. JQuery 에서 Vanila javascript로 일부 migration.

2. 반복되는 코드를 최대한 지우고 js로 모듈화.

   - 매 페이지마다 반복되는 review slider, pagination, banner, footer 등등 전부 삭제후 js로 분리. index.html에서 type='module'로 import.

   ex) ↓ pagination 코드 예시

   ```javascript
   let template = `
       <span class="prev">
           <a href="#${word}/page/{{__prev__}}">
               <img src="./img/page_left.png" alt="이전" />이전
           </a>
       </span>
       <ol>
       {{ li }}
       </ol>
       <span class="next">
           <a href="#${word}/page/{{__next__}}">
           <img src="./img/page_right.png" alt="다음" />다음
           </a>
       </span>
       `

   template = template.replace("{{ li }}", array.join(""))
   ```

   다행히 과거에 [김민태의 프론트엔드 아카데미 : 제 1강 Javascript & Typescript Essential](https://fastcampus.co.kr/dev_academy_kmt1) 강의에서 Vanila Javascript를 어떤식으로 효과적으로 작성하는지 공부를 해두었기 때문에 나름 만족스럽게 할 수 있었다. ~~사실 지금도 이거 다 갈아 엎고 react로 다시 만들고 싶다.~~

   React가 얼마나 편리한지, Next.js 등등 우리가 지금 사용하는 이 방식이 얼마나 좋은 방식인지 정말 많이 느낄 수 있었던 홈페이지 개편이였다. 👍🏻 👍🏻

### 2. OMS 주문 업로드 방식 변경

![스크린샷 2022-07-25 오전 11 07 16](https://user-images.githubusercontent.com/87749134/180679374-a4b10ec9-48b5-4f6d-8a97-c14ee3fe3316.png)

회사에 입사하고 처음 작업한 대형(?) 프로젝트였다. 작업을 하게 된 계기는 우연헀다. SSG에서 seller들에게 요구하는 엑셀 양식이 변경된것이였다.

↓ 구버전 SSG 엑셀 양식.

<img width="1390" alt="구버전2" src="https://user-images.githubusercontent.com/87749134/180680110-f8f8c949-ccdf-456d-9b02-2f8b5058594e.png">

↓ 신버전 SSG 엑셀 양식.

<img width="1390" alt="신버전2" src="https://user-images.githubusercontent.com/87749134/180680166-67406709-24e7-469a-ab2a-f1edefdc0242.png">

신버전 양식의 H열에 '배송순번' 이라는 필드가 생기면서 전부 한칸식 밀리게 되었다. 기존의 코드에서는 엑셀을 읽기 위해 A열에 '순번', B열에 '출고유형' 등 column의 위치에 종속되어 해당 workSheet를 읽기 위해서는 반드시 그 열의 위치에 값( 순번, 출고유형 등 )이 존재해야했다.

지금 모두먼트에서 지원하고 있는 마켓은 총 26곳 이고 (대표적으로 coupang, 11번가, cage24, TMON, InterPark 등등 이 있다.) 앞으로 지원하는 마켓은 더더욱 늘어날 것이다. 하지만 그때마다 각각의 마켓에서 어느날 갑자기 column의 위치를 바꿔버리면 해당 마켓과 모두먼트를 이용하는 모든 사용자에게 서비스 장애가 일어날 것이고 반드시 해결하고 넘어가야하는 문제가 되었다.

그래서 이 문제를 필자가 담당하게 되었고 더이상 column의 위치에 종속 받지 않고 엑셀 column의 title을 검색해서 프로세스를 진행하는 방식으로 업로드 방식을 변경하도록 했다.

이번에 이 프로젝트를 하면서 엑셀을 읽어오는 방식을 변경한 것도 물론 있지만 최대한 공들인 부분은 `기존의 legacy를 최대한 모듈화 시켜서 코드를 분리하는 것`이였다.

필자가 처음 회사에 입사하고 나서 코드를 보았을 때에는 하나의 function, useEffect에서 무분별하게 사용된 setState와 여러가지의 동작을 하나의 함수, useEffect에서 모두 처리하고 있었다. ~~이걸 만든 주니어 개발자는 퇴사했다.~~ 그래서 함수들이 길이가 너무너무 길었고 새로 입사한 필자는 코드를 보는데 동작을 이해하기가 너무 힘들어서 이걸 최대한 분리시켜야 겠다고 생각했었다. 분리 & refactoring 한 코드들의 일부 내용은 다음과 같다.

- 엑셀 업로드하는 함수. -> ( file 반환 )

- 업로드 된 file을 가지고 엑셀의 workSheet를 읽어오는 함수. (reader.readAsBinaryString(file) 이용)

- 읽어온 workSheet를 서버에서 필요한 JSON으로 변경하는 함수 ( 이번 프로젝트의 핵심 ).

- 읽어온 JSON validation check하는 함수.

- 읽어온 JSON을 재귀적으로 모두 string을 trim하는 함수.

~~원래는 위에 이 동작들이 모두 하나의 함수에서 동작하는 함수였다. 가독성도 너무 좋지 않았고 반복적인 내용을 봍\*붙을 하는 등 퀄리티가 너무 떨어졌다고 생각한다.~~

등등 엑셀과 관련된 작업들 뿐만 아니라 정말 많은 부분들을 하나의 함수가 하나의 기능과 동작만 가지도록 최대한 공들여 코드를 작성했고 정말 많은 부분들에서 재활용성 및 확장성이 넓어지게 할 수 있었다. 이 글을 쓰는 현재 다행히 엑셀과 업로드 관련해서 고객들의 채널톡 claim을 정말 많이 줄일 수 있었다.

지금의 프로젝트에는 테스트 코드가 없다. 그래서 퇴사한 개발자가 작성한 코드를 지우면서 정말 확실히 지워도 되는 부분인지 정말 확실하게 하려고 정말 많은 시간을 할애했다. 이 작업을 계기로 테스트 코드의 필요성을 여실히 느낄 수 있었다. [여기](https://sonicce99.github.io/jest/)에 Jest 공식문서를 보고 공부한 내용들을 작성했고 추후에 차근차근 작성해보려 한다.

### 3. 프로젝트 구조 변경 (Next.js)

회사에 입사하고 Next.js에 대해 본격적으로 공부하기 시작했다. Next.js 공식문서를 읽으면서 [이곳](https://github.com/sonicce99/TIL/blob/main/Framework_Library/Next/Next.md)에 내용을 정리해가며 공부했고 SSG, SSR을 어떻게 할 수 있는지에 대해서도 알아가기 시작했다. 이때 pages 폴더에 \_app, \_document에 대해서도 공부했는데 회사 코드에는 해당 컴포넌트 파일이 존재하지 않았다. 현재 공통으로 필요한 useEffect와 같은 코드들이 어떻게 동작하는지 찾아보니 (ex. 매 페이지마다 localStorage에 위치를 set 하는 useEffect, AppLayOut.tsx 등등) 매 페이지마다 전부 공통적으로 작성되어 있었다.

👉🏻 \_app.js는 최초 실행되며 모든 페이지에서 동작하는 공통 레이아웃 역할인데 이에 대한 코드가 없어서 정리가 필요하다고 생각했다.

- 최초로 실행되는 것은 \_app.tsx 실행.

  > 내부에 컴포넌트가 있다면 전부 실행하고 html의 body로 구성

  > Component, pageProps를 받습니다.

- \_document.tsx 실행.

  > 공통적으로 활용할 <head> (Ex. 메타 태그)나 <body> 태그 안에 들어갈 내용들을 커스텀할때 활용.

그래서 AppLayOut이 Component를 감싸고 있는 \_app.tsx 파일을 만들고 공통적으로 동작하는 코드들을 전부 삭제 후 AppLayOut에서 동작하도록 구조를 개선했다.

```javascript
<AppLayout>
  <Component {...pageProps} />
</AppLayout>
```

(이때는 잘 몰랐지만 추후에 PHP로 작성된 WMS을 OMS로 옮기게 되면서 이렇게 확실하게 구조를 잡아둔것은 WMS를 개발함에 있어서 굉장히 큰 시간적, 기술적 도움이 되었다.)

### 4. 회원가입 프로세스 리뉴얼

### 5. WMS 개발

- 1차 개발 (7월 중순 Open)

  - 상품 관리

    > 상품 개별 등록 페이지

    > 상품 대량 등록 페이지 (Excel)

  - 상품 입고

    > 입고 요청 (Excel)

    > 입고 예정 내역 조회

    > 입고 확정 내역 조회

  - 출고 관리

    > 기간별 출고 내역 조회

    > 기간별 택배 내역 조회

- 2차 개발 (9월 중순 ~ 10월 개발 예정)

## 개인 개발 역량 강화

### 리액트를 다루는 기술

👉🏻 7월 27일 ~
