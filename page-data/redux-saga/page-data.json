{"componentChunkName":"component---src-templates-blog-post-js","path":"/redux-saga/","result":{"data":{"site":{"siteMetadata":{"title":"ë™ìˆ˜ì˜ ë¡œê·¸ë¶"}},"markdownRemark":{"id":"683e3b97-8468-5509-9c2f-3d1dbfa08aaf","excerpt":"About Redux-Saga Redux-sagaëŠ” ì•±ì˜ side-effects (data fetching, ë¸Œë¼ìš°ì € ìºì‹œ ì ‘ê·¼)ì„ ë³´ë‹¤ ì‰½ê²Œ ê´€ë¦¬í•˜ê³ , ì‰½ê³ , í…ŒìŠ¤íŠ¸í•˜ê¸° ìš©ì´í•˜ë©°, ì˜¤ë¥˜ë¥¼ ë” ì˜ ì²˜ë¦¬í•˜ë„ë¡ í•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•©ë‹ˆë‹¤. ê¸°ë³¸ì ì¸ ëª¨ë¸ì€ sagaâ€¦","html":"<h2 id=\"about-redux-saga\" style=\"position:relative;\">About Redux-Saga<a href=\"#about-redux-saga\" aria-label=\"about redux saga permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Redux-sagaëŠ” ì•±ì˜ side-effects (data fetching, ë¸Œë¼ìš°ì € ìºì‹œ ì ‘ê·¼)ì„ ë³´ë‹¤ ì‰½ê²Œ ê´€ë¦¬í•˜ê³ , ì‰½ê³ , í…ŒìŠ¤íŠ¸í•˜ê¸° ìš©ì´í•˜ë©°, ì˜¤ë¥˜ë¥¼ ë” ì˜ ì²˜ë¦¬í•˜ë„ë¡ í•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•©ë‹ˆë‹¤.</p>\n<p>ê¸°ë³¸ì ì¸ ëª¨ë¸ì€ sagaëŠ” ì•±ì—ì„œ ë™ì‘í•˜ëŠ” ë³„ë„ì˜ threadì™€ ê°™ë‹¤ëŠ” ì ì…ë‹ˆë‹¤. redux-sagaëŠ” reduxì˜ ë¯¸ë“¤ì›¨ì–´ë¡œì„œ, redux actionsë¡œ ë¶€í„° threadë¥¼ ì‹œì‘, ì¤‘ì§€, ì·¨ì†Œ ì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<p>Generatorsë¼ëŠ” ES6 ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ì—¬ ì´ëŸ¬í•œ ë¹„ë™ê¸° íë¦„ì„ ì‰½ê²Œ ì½ê³  ì“°ê³  í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ ì´ëŸ¬í•œ ë¹„ë™ê¸° íë¦„ì´ í‘œì¤€ ë™ê¸° JavaScript ì½”ë“œì²˜ëŸ¼ ë³´ì…ë‹ˆë‹¤.</p>\n<p>data fetchingì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ì´ì „ì— redux-thunkë¥¼ ì‚¬ìš©í–ˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. redux thunkì™€ ë‹¬ë¦¬ ì½œë°± ì§€ì˜¥ì— ë¹ ì§€ì§€ ì•Šê³  ë¹„ë™ê¸° íë¦„ì„ ì‰½ê²Œ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìœ¼ë©° ì‘ì—…ì´ ìˆœìˆ˜í•˜ê²Œ ìœ ì§€ë©ë‹ˆë‹¤.</p>\n<h2 id=\"introduction\" style=\"position:relative;\">Introduction<a href=\"#introduction\" aria-label=\"introduction permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<h3 id=\"beginner-tutorial\" style=\"position:relative;\">Beginner Tutorial<a href=\"#beginner-tutorial\" aria-label=\"beginner tutorial permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p><code class=\"language-text\">sagas.js</code>ë¥¼ ë§Œë“¤ê³  ì•„ë˜ì™€ ê°™ì€ ì½”ë“œë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// sagas.js</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span><span class=\"token operator\">*</span> <span class=\"token function\">helloSaga</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello Sagas!\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>sagaë¥¼ í†µì‘ì‹œí‚¤ê¸° ìœ„í•´ì„  ë‹¤ìŒì´ í•„ìš”í•©ë‹ˆë‹¤.</p>\n<ul>\n<li>\n<p>saga middlewareë¥¼ ìƒì„±í•©ë‹ˆë‹¤.</p>\n</li>\n<li>\n<p>redux storeì— saga middlewareë¥¼ ì—°ê²°í•©ë‹ˆë‹¤.</p>\n</li>\n</ul>\n<p><code class=\"language-text\">main.js</code>ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// main.js</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> createStore<span class=\"token punctuation\">,</span> applyMiddleware <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'redux'</span>\n<span class=\"token keyword\">import</span> createSagaMiddleware <span class=\"token keyword\">from</span> <span class=\"token string\">'redux-saga'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> helloSaga <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./sagas'</span>\n\n<span class=\"token keyword\">const</span> sagaMiddleware <span class=\"token operator\">=</span> <span class=\"token function\">createSagaMiddleware</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> store <span class=\"token operator\">=</span> <span class=\"token function\">createStore</span><span class=\"token punctuation\">(</span>\n  reducer<span class=\"token punctuation\">,</span>\n  <span class=\"token function\">applyMiddleware</span><span class=\"token punctuation\">(</span>sagaMiddleware<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span>\nsagaMiddleware<span class=\"token punctuation\">.</span><span class=\"token function\">run</span><span class=\"token punctuation\">(</span>helloSaga<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">action</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">type</span> <span class=\"token operator\">=></span> store<span class=\"token punctuation\">.</span><span class=\"token function\">dispatch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>type<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  ReactDOM<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>Counter\n      value<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>store<span class=\"token punctuation\">.</span><span class=\"token function\">getState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n      onIncrement<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">action</span><span class=\"token punctuation\">(</span><span class=\"token string\">'INCREMENT'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n      onDecrement<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">action</span><span class=\"token punctuation\">(</span><span class=\"token string\">'DECREMENT'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n      onIncrementAsync<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">action</span><span class=\"token punctuation\">(</span><span class=\"token string\">'INCREMENT_ASYNC'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n    <span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n    document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'root'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nstore<span class=\"token punctuation\">.</span><span class=\"token function\">subscribe</span><span class=\"token punctuation\">(</span>render<span class=\"token punctuation\">)</span></code></pre></div>\n<p>ì²«ë²ˆì§¸ë¡œ <code class=\"language-text\">.sagas.js</code> ì—ì„œ ëª¨ë“ˆì„ importí•©ë‹ˆë‹¤.</p>\n<p>ê·¸ ë‹¤ìŒ <code class=\"language-text\">redux-saga</code> ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ export ëœ <code class=\"language-text\">createSagaMiddleware</code>ë¥¼ ì‚¬ìš©í•˜ì—¬ ë¯¸ë“¤ì›¨ì–´ë¥¼ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<p>ë¯¸ë“¤ì›¨ì–´ë¥¼ ìƒì„±í•˜ë©´ Storeì— ì—°ê²°ì„ ì‹œí‚¨ í›„ <code class=\"language-text\">helloSaga</code>ë¥¼ runí•©ë‹ˆë‹¤.</p>\n<h4 id=\"making-asynchronous-calls\" style=\"position:relative;\">Making Asynchronous callsâ€‹<a href=\"#making-asynchronous-calls\" aria-label=\"making asynchronous calls permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p><code class=\"language-text\">Counter.js</code>ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Counter</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> value<span class=\"token punctuation\">,</span> onIncrement<span class=\"token punctuation\">,</span> onDecrement<span class=\"token punctuation\">,</span> onIncrementAsync <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n  <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>button onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>onIncrementAsync<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>Increment after <span class=\"token number\">1</span> second<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span>\n\n    <span class=\"token operator\">&lt;</span>button onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>onIncrement<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>Increment<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span>\n\n    <span class=\"token operator\">&lt;</span>button onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>onDecrement<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>Decrement<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span>\n\n    <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>Clicked<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>value<span class=\"token punctuation\">}</span> times<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n<span class=\"token punctuation\">)</span></code></pre></div>\n<p>ğŸŒ¿ redux-thunkì™€ ë‹¤ë¥´ê²Œ dispatch ëŒ€ì‹  action ê°ì²´ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.</p>\n<p><code class=\"language-text\">sagas.js</code>ì— ë‹¤ìŒì˜ ì½”ë“œë¡œ ë³€ê²½í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// sagas.js</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> put<span class=\"token punctuation\">,</span> takeEvery <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"redux-saga/effects\"</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">delay</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">ms</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">res</span> <span class=\"token operator\">=></span> <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">,</span> ms<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span><span class=\"token operator\">*</span> <span class=\"token function\">helloSaga</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello Sagas!\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// Our worker Saga: will perform the async increment task</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span><span class=\"token operator\">*</span> <span class=\"token function\">incrementAsync</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">yield</span> <span class=\"token function\">delay</span><span class=\"token punctuation\">(</span><span class=\"token number\">1000</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">yield</span> <span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">\"INCREMENT\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// Our watcher Saga: spawn a new incrementAsync task on each INCREMENT_ASYNC</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span><span class=\"token operator\">*</span> <span class=\"token function\">watchIncrementAsync</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">yield</span> <span class=\"token function\">takeEvery</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"INCREMENT_ASYNC\"</span><span class=\"token punctuation\">,</span> incrementAsync<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>delayë¼ëŠ” í•¨ìˆ˜ë¥¼ ìƒì„±í–ˆëŠ”ë° ì´ëŠ” Generatorë¥¼ <code class=\"language-text\">block</code> í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•©ë‹ˆë‹¤.</p>\n<p>SagasëŠ” redux-saga ë¯¸ë“¤ì›¨ì–´ì— ê°ì²´ë¥¼ yieldí•˜ëŠ” Generator í•¨ìˆ˜ë¡œ êµ¬í˜„ë©ë‹ˆë‹¤.\nyieldëœ ê°ì²´ëŠ” ë¯¸ë“¤ì›¨ì–´ê°€ í•´ì„í•´ì•¼ í•˜ëŠ” ì¼ì¢…ì˜ ëª…ë ¹ì…ë‹ˆë‹¤.\nPromiseê°€ ë¯¸ë“¤ì›¨ì–´ì— yieldë˜ë©´ ë¯¸ë“¤ì›¨ì–´ëŠ” Promiseê°€ ì™„ë£Œë  ë•Œê¹Œì§€ Sagaë¥¼ ì¼ì‹œ ì¤‘ë‹¨í•©ë‹ˆë‹¤.\nìœ„ì˜ ì˜ˆì—ì„œ incrementAsync SagaëŠ” delayì— ì˜í•´ Promiseê°€ í•´ê²°ë  ë•Œê¹Œì§€ ì¼ì‹œ ì¤‘ì§€ë˜ë©°, ì´ëŠ” 1ì´ˆ í›„ì— ë°œìƒí•©ë‹ˆë‹¤.</p>\n<p>Promiseê°€ resolveë˜ë©´ ë¯¸ë“¤ì›¨ì–´ëŠ” Sagaë¥¼ ì¬ê°œí•˜ì—¬ ë‹¤ìŒ yieldê¹Œì§€ ì½”ë“œë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.\në‹¤ìŒ ëª…ë ¹ë¬¸ì€ INCREMENT actionì„ dispatchí•˜ë„ë¡ ë¯¸ë“¤ì›¨ì–´ì— ì§€ì‹œí•˜ëŠ” put({type: â€˜INCREMENTâ€™}) í˜¸ì¶œì˜ ê²°ê³¼ì¸ ë˜ ë‹¤ë¥¸ yieldëœ ê°ì²´ì…ë‹ˆë‹¤.</p>\n<p>putì€ ìš°ë¦¬ê°€ Effectë¼ê³  ë¶€ë¥´ëŠ” ê²ƒì˜ í•œ ì˜ˆì…ë‹ˆë‹¤.\nEffectsëŠ” ë¯¸ë“¤ì›¨ì–´ê°€ ìˆ˜í–‰í•  ëª…ë ¹ì„ í¬í•¨í•˜ëŠ” ì¼ë°˜ JavaScript ê°ì²´ì…ë‹ˆë‹¤.\në¯¸ë“¤ì›¨ì–´ê°€ Sagaì—ì„œ ìƒì„±ëœ Effectsë¥¼ retrievesí•˜ë©´ Effetsê°€ ì¶©ì¡±ë  ë•Œê¹Œì§€ Sagaê°€ ì¼ì‹œ ì¤‘ì§€ë©ë‹ˆë‹¤.</p>\n<p>ìš”ì•½í•˜ìë©´, incrementAsync SagaëŠ” delay(1000)ì— ëŒ€í•œ í˜¸ì¶œì„ í†µí•´ 1ì´ˆ ë™ì•ˆ ëŒ€ê¸°í•œ ë‹¤ìŒ INCREMENT ì‘ì—…ì„ ë°œì†¡í•©ë‹ˆë‹¤.</p>\n<p>ë‹¤ìŒìœ¼ë¡œ ë˜ ë‹¤ë¥¸ Saga watchIncrementAsyncë¥¼ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.\nredux-sagaì—ì„œ ì œê³µí•˜ëŠ” helper í•¨ìˆ˜ì¸ takeEveryë¥¼ ì‚¬ìš©í•˜ì—¬ ë°œì†¡ëœ INCREMENT_ASYNC ì‘ì—…ì„ ìˆ˜ì‹ í•˜ê³  ë§¤ë²ˆ incrementAsyncë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.</p>\n<p>ì´ì œ ìš°ë¦¬ëŠ” 2ê°œì˜ Sagasë¥¼ ê°€ì§€ê³  ìˆê³ , ìš°ë¦¬ëŠ” ê·¸ê²ƒë“¤ì„ í•œ ë²ˆì— ì‹œì‘í•´ì•¼ í•©ë‹ˆë‹¤.\nì´ë¥¼ ìœ„í•´ ë‹¤ë¥¸ Sagas ì‹œì‘ì„ ë‹´ë‹¹í•˜ëŠ” rootSagaë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤. ë™ì¼í•œ íŒŒì¼ sagas.jsì—ì„œ ë‹¤ìŒê³¼ ê°™ì´ íŒŒì¼ì„ ë¦¬íŒ©í„°ë§í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// sagas.js</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> put<span class=\"token punctuation\">,</span> takeEvery<span class=\"token punctuation\">,</span> all <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"redux-saga/effects\"</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">delay</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">ms</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">res</span> <span class=\"token operator\">=></span> <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">,</span> ms<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span><span class=\"token operator\">*</span> <span class=\"token function\">helloSaga</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello Sagas!\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span><span class=\"token operator\">*</span> <span class=\"token function\">incrementAsync</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">yield</span> <span class=\"token function\">delay</span><span class=\"token punctuation\">(</span><span class=\"token number\">1000</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">yield</span> <span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">\"INCREMENT\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span><span class=\"token operator\">*</span> <span class=\"token function\">watchIncrementAsync</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">yield</span> <span class=\"token function\">takeEvery</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"INCREMENT_ASYNC\"</span><span class=\"token punctuation\">,</span> incrementAsync<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// notice how we now only export the rootSaga</span>\n<span class=\"token comment\">// single entry point to start all Sagas at once</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span><span class=\"token operator\">*</span> <span class=\"token function\">rootSaga</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">yield</span> <span class=\"token function\">all</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token function\">helloSaga</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">watchIncrementAsync</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì´ì œ middlewareì— rootSagaë¥¼ ì „ë‹¬í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// ...</span>\n<span class=\"token keyword\">import</span> rootSaga <span class=\"token keyword\">from</span> <span class=\"token string\">'./sagas'</span>\n\n<span class=\"token keyword\">const</span> sagaMiddleware <span class=\"token operator\">=</span> <span class=\"token function\">createSagaMiddleware</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> store <span class=\"token operator\">=</span> <span class=\"token operator\">...</span>\nsagaMiddleware<span class=\"token punctuation\">.</span><span class=\"token function\">run</span><span class=\"token punctuation\">(</span>rootSaga<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// ...</span></code></pre></div>\n<h4 id=\"making-our-code-testable\" style=\"position:relative;\">Making our code testable<a href=\"#making-our-code-testable\" aria-label=\"making our code testable permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>incrementAsync Sagaë¥¼ í…ŒìŠ¤íŠ¸í•˜ì—¬ ì›í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ”ì§€ í™•ì¸í•˜ë ¤ê³  í•©ë‹ˆë‹¤.</p>\n<p>ë‹¤ë¥¸ íŒŒì¼ <code class=\"language-text\">sagas.spec.js</code>ë¥¼ ë§Œë“­ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// sagas.spec.js</span>\n<span class=\"token keyword\">import</span> test <span class=\"token keyword\">from</span> <span class=\"token string\">\"tape\"</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> incrementAsync <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"./sagas\"</span>\n\n<span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"incrementAsync Saga test\"</span><span class=\"token punctuation\">,</span> <span class=\"token parameter\">assert</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> gen <span class=\"token operator\">=</span> <span class=\"token function\">incrementAsync</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token comment\">// now what ?</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>incrementAsyncëŠ” Generator í•¨ìˆ˜ì…ë‹ˆë‹¤.\nì‹¤í–‰ë˜ë©´ iterator ê°ì²´ë¥¼ ë°˜í™˜í•˜ê³  iteratorì˜ next ë©”ì„œë“œëŠ” ì•„ë˜ì™€ ê°™ì€ ê°ì²´ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">gen<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// => { done: boolean, value: any }</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">gen<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// => { done: false, value: &lt;result of calling delay(1000)> }</span>\ngen<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// => { done: false, value: &lt;result of calling put({type: 'INCREMENT'})> }</span>\ngen<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// => { done: true, value: undefined }</span></code></pre></div>\n<p>ì²˜ìŒ 2ê°œì˜ í˜¸ì¶œì€ yield í‘œí˜„ì‹ì˜ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.\nì„¸ ë²ˆì§¸ í˜¸ì¶œì—ì„œëŠ” ë” ì´ìƒ yieldê°€ ì—†ìœ¼ë¯€ë¡œ done í•„ë“œê°€ trueë¡œ ì„¤ì •ë©ë‹ˆë‹¤.\në˜í•œ incrementAsync GeneratorëŠ” ì•„ë¬´ ê²ƒë„ ë°˜í™˜í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ(return ë¬¸ ì—†ìŒ) value í•„ë“œëŠ” undefinedë¡œ ì„¤ì •ë©ë‹ˆë‹¤.</p>\n<p>ë”°ë¼ì„œ ì´ì œ incrementAsync ë‚´ë¶€ì˜ ë…¼ë¦¬ë¥¼ í…ŒìŠ¤íŠ¸í•˜ë ¤ë©´ ë°˜í™˜ëœ Generatorë¥¼ ë°˜ë³µí•˜ê³  Generatorì—ì„œ ì‚°ì¶œí•œ ê°’ì„ í™•ì¸í•´ì•¼ í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// sagas.spec.js</span>\n<span class=\"token keyword\">import</span> test <span class=\"token keyword\">from</span> <span class=\"token string\">'tape'</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> incrementAsync <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./sagas'</span>\n\n<span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'incrementAsync Saga test'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">assert</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> gen <span class=\"token operator\">=</span> <span class=\"token function\">incrementAsync</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n  assert<span class=\"token punctuation\">.</span><span class=\"token function\">deepEqual</span><span class=\"token punctuation\">(</span>\n    gen<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">done</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">value</span><span class=\"token operator\">:</span> <span class=\"token operator\">??</span><span class=\"token operator\">?</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">'incrementAsync should return a Promise that will resolve after 1 second'</span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>ë¬¸ì œëŠ” delayì˜ return ê°’ì„ í…ŒìŠ¤íŠ¸í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤.\nìš°ë¦¬ëŠ” Promiseì— ëŒ€í•´ ê°„ë‹¨í•œ ë™ë“±ì„± í…ŒìŠ¤íŠ¸ë¥¼ í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\ndelayê°€ normal ê°’ì„ ë°˜í™˜í–ˆë‹¤ë©´ í…ŒìŠ¤íŠ¸í•˜ê¸°ê°€ ë” ì‰¬ì› ì„ ê²ƒì…ë‹ˆë‹¤.</p>\n<p>redux-sagaëŠ” ìœ„ì˜ ì§„ìˆ ì„ ê°€ëŠ¥í•˜ê²Œ í•˜ëŠ” ë°©ë²•ì„ ì œê³µí•©ë‹ˆë‹¤.\nincrementAsync ë‚´ì—ì„œ ì§ì ‘ delay(1000)ë¥¼ í˜¸ì¶œí•˜ëŠ” ëŒ€ì‹  ê°„ì ‘ì ìœ¼ë¡œ í˜¸ì¶œí•˜ê³  ë‚´ë³´ë‚´ê¸°í•˜ì—¬ ì´í›„ì˜ ì‹¬ì¸µ ë¹„êµë¥¼ ê°€ëŠ¥í•˜ê²Œ í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// sagas.js</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> put<span class=\"token punctuation\">,</span> takeEvery<span class=\"token punctuation\">,</span> all<span class=\"token punctuation\">,</span> call <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"redux-saga/effects\"</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">delay</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">ms</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">res</span> <span class=\"token operator\">=></span> <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">,</span> ms<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// ...</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span><span class=\"token operator\">*</span> <span class=\"token function\">incrementAsync</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// use the call Effect</span>\n  <span class=\"token keyword\">yield</span> <span class=\"token function\">call</span><span class=\"token punctuation\">(</span>delay<span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">yield</span> <span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">\"INCREMENT\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>yield delay(1000) -> yield call(delay, 1000)ë¡œ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.<br>\nì°¨ì´ì ì´ ë­˜ê¹Œìš”?</p>\n<p>ì²«ë²ˆì§¸ëŠ” next í˜¸ì¶œìì—ê²Œ ì „ë‹¬ë˜ê¸° ì „ì— í‰ê°€ë©ë‹ˆë‹¤.\në”°ë¼ì„œ í˜¸ì¶œìê°€ ì–»ëŠ” ê²ƒì€ Promiseì…ë‹ˆë‹¤.</p>\n<p>ë‘ ë²ˆì§¸ ê²½ìš°, yield í‘œí˜„ì‹ call(delay, 1000)ì€ next í˜¸ì¶œìì—ê²Œ ì „ë‹¬ë˜ëŠ” ê²ƒì…ë‹ˆë‹¤.\nputê³¼ ë§ˆì°¬ê°€ì§€ë¡œ callì€ ë¯¸ë“¤ì›¨ì–´ê°€ ì£¼ì–´ì§„ ì¸ìˆ˜ë¡œ ì£¼ì–´ì§„ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë„ë¡ ì§€ì‹œí•˜ëŠ” Effectë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.\nì‹¤ì œë¡œ putì´ë‚˜ callì€ ìì²´ì ìœ¼ë¡œ ë””ìŠ¤íŒ¨ì¹˜ ë˜ëŠ” ë¹„ë™ê¸° í˜¸ì¶œì„ ìˆ˜í–‰í•˜ì§€ ì•Šìœ¼ë©° ì¼ë°˜ JavaScript ê°ì²´ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">\"INCREMENT\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// => { PUT: {type: 'INCREMENT'} }</span>\n<span class=\"token function\">call</span><span class=\"token punctuation\">(</span>delay<span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// => { CALL: {fn: delay, args: [1000]}}</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// sagas.spec.js</span>\n<span class=\"token keyword\">import</span> test <span class=\"token keyword\">from</span> <span class=\"token string\">\"tape\"</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> put<span class=\"token punctuation\">,</span> call <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"redux-saga/effects\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> incrementAsync<span class=\"token punctuation\">,</span> delay <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"./sagas\"</span>\n\n<span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"incrementAsync Saga test\"</span><span class=\"token punctuation\">,</span> <span class=\"token parameter\">assert</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> gen <span class=\"token operator\">=</span> <span class=\"token function\">incrementAsync</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n  assert<span class=\"token punctuation\">.</span><span class=\"token function\">deepEqual</span><span class=\"token punctuation\">(</span>\n    gen<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">,</span>\n    <span class=\"token function\">call</span><span class=\"token punctuation\">(</span>delay<span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"incrementAsync Saga must call delay(1000)\"</span>\n  <span class=\"token punctuation\">)</span>\n\n  assert<span class=\"token punctuation\">.</span><span class=\"token function\">deepEqual</span><span class=\"token punctuation\">(</span>\n    gen<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">,</span>\n    <span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">\"INCREMENT\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"incrementAsync Saga must dispatch an INCREMENT action\"</span>\n  <span class=\"token punctuation\">)</span>\n\n  assert<span class=\"token punctuation\">.</span><span class=\"token function\">deepEqual</span><span class=\"token punctuation\">(</span>\n    gen<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">done</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">value</span><span class=\"token operator\">:</span> <span class=\"token keyword\">undefined</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"incrementAsync Saga must be done\"</span>\n  <span class=\"token punctuation\">)</span>\n\n  assert<span class=\"token punctuation\">.</span><span class=\"token function\">end</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>put ë° callì€ ì¼ë°˜ ê°ì²´ë¥¼ ë°˜í™˜í•˜ë¯€ë¡œ í…ŒìŠ¤íŠ¸ ì½”ë“œì—ì„œ ë™ì¼í•œ í•¨ìˆ˜ë¥¼ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nê·¸ë¦¬ê³  incrementAsyncì˜ ë…¼ë¦¬ë¥¼ í…ŒìŠ¤íŠ¸í•˜ê¸° ìœ„í•´ generatorë¥¼ ë°˜ë³µí•˜ê³  í•´ë‹¹ ê°’ì— ëŒ€í•´ deepEqual í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤.</p>\n<h3 id=\"basic-concepts\" style=\"position:relative;\">Basic Concepts<a href=\"#basic-concepts\" aria-label=\"basic concepts permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<h4 id=\"declarative-effects\" style=\"position:relative;\">Declarative Effects<a href=\"#declarative-effects\" aria-label=\"declarative effects permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>redux-sagaì—ì„œ SagasëŠ” Generator í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ êµ¬í˜„ë©ë‹ˆë‹¤.\nSaga ë…¼ë¦¬ë¥¼ í‘œí˜„í•˜ê¸° ìœ„í•´ Generatorì—ì„œ ì¼ë°˜ JavaScript ê°ì²´ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.\nìš°ë¦¬ëŠ” ì´ëŸ¬í•œ ê°ì²´ë¥¼ Effectsë¼ê³  ë¶€ë¦…ë‹ˆë‹¤.\nEffectëŠ” ë¯¸ë“¤ì›¨ì–´ì— ì˜í•´ ì°¸ì¡°ë˜ëŠ” ê°ì²´ì…ë‹ˆë‹¤. ì¼ë¶€ ì‘ì—…(ì˜ˆ: ì¼ë¶€ ë¹„ë™ê¸° í•¨ìˆ˜ í˜¸ì¶œ, ì €ì¥ì†Œì— ì‘ì—… ë°œì†¡ ë“±)ì„ ìˆ˜í–‰í•˜ê¸° ìœ„í•´ ë¯¸ë“¤ì›¨ì–´ì— ëŒ€í•œ Effectsë¥¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<p><code class=\"language-text\">redux-saga/effects</code> ì—ì„œ Effectsë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<p>ì´ ì„¹ì…˜ê³¼ ë‹¤ìŒ ì„¹ì…˜ì—ì„œëŠ” ëª‡ ê°€ì§€ ê¸°ë³¸ Effectsë¥¼ ì†Œê°œí•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  ì–´ë–»ê²Œ Sagasë¥¼ ì‰½ê²Œ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆê²Œ í•˜ëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”.</p>\n<p>SagasëŠ” ì—¬ëŸ¬ í˜•íƒœì˜ Effectsë¥¼ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê°€ì¥ ì‰¬ìš´ ë°©ë²•ì€ Promiseë¥¼ ìƒì„±í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.</p>\n<p>ì˜ˆë¥¼ ë“¤ì–´ PRODUCTS_REQUESTED ì‘ì—…ì„ ê°ì‹œí•˜ëŠ” Sagaê°€ ìˆë‹¤ê³  ê°€ì •í•©ë‹ˆë‹¤. actionì— ë§¤ì¹˜ë˜ë©´ ì„œë²„ì—ì„œ ì œí’ˆ ëª©ë¡ì„ ê°€ì ¸ì˜¤ëŠ” ì‘ì—…ì„ ì‹œì‘í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> takeEvery <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"redux-saga/effects\"</span>\n<span class=\"token keyword\">import</span> Api <span class=\"token keyword\">from</span> <span class=\"token string\">\"./path/to/api\"</span>\n\n<span class=\"token keyword\">function</span><span class=\"token operator\">*</span> <span class=\"token function\">watchFetchProducts</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">yield</span> <span class=\"token function\">takeEvery</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"PRODUCTS_REQUESTED\"</span><span class=\"token punctuation\">,</span> fetchProducts<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span><span class=\"token operator\">*</span> <span class=\"token function\">fetchProducts</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> products <span class=\"token operator\">=</span> <span class=\"token keyword\">yield</span> Api<span class=\"token punctuation\">.</span><span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/products\"</span><span class=\"token punctuation\">)</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>products<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#about-redux-saga\">About Redux-Saga</a></p>\n</li>\n<li>\n<p><a href=\"#introduction\">Introduction</a></p>\n<ul>\n<li>\n<p><a href=\"#beginner-tutorial\">Beginner Tutorial</a></p>\n<ul>\n<li><a href=\"#making-asynchronous-calls\">Making Asynchronous callsâ€‹</a></li>\n<li><a href=\"#making-our-code-testable\">Making our code testable</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#basic-concepts\">Basic Concepts</a></p>\n<ul>\n<li><a href=\"#declarative-effects\">Declarative Effects</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>","frontmatter":{"title":"React-Saga ê³µì‹ë¬¸ì„œ ë²ˆì—­ë³¸","date":"July 12, 2023","description":"redux-sagaì˜ ê³µì‹ë¬¸ì„œë¥¼ ì½ê³  ë‚´ìš©ì„ ì •ë¦¬í•©ë‹ˆë‹¤.","keywords":["react","ìë°”ìŠ¤í¬ë¦½íŠ¸","javascript","redux-saga","ê³µì‹ë¬¸ì„œ"]}},"previous":{"fields":{"slug":"/bitcoin/"},"frontmatter":{"title":"ë¹„íŠ¸ì½”ì¸ ë°±ì„œ ë²ˆì—­ë³¸ (Bitcoin White Paper)"}},"next":{"fields":{"slug":"/shopby/"},"frontmatter":{"title":"ì¸ì•±ê²°ì œ í”„ë¡œì íŠ¸ ì¤‘ ë§Œë‚œ ì¼"}}},"pageContext":{"id":"683e3b97-8468-5509-9c2f-3d1dbfa08aaf","previousPostId":"296d7f05-844d-53ff-97bd-bd4d2d019a7d","nextPostId":"cb1d8143-d383-5f6b-a932-2dcb64a52185"}},"staticQueryHashes":["230163734","2664618587"],"slicesMap":{}}